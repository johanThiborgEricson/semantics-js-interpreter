<html>
<head>
  <title>Grammar of the Semantics! library</title>
  <link href="es5.1.css" rel="stylesheet">
</head>
<body>
<section id="sec-A.1">
  <h1><span class="secnum">A.1</span> Lexical Grammar</h1>

  <div class="gp">
    <div class="lhs"><span class="nt">IdentifierName</span> <span class="geq">::</span> </div>
    <div class="rhs"><span class="nt">/[a-zA-Z_\$][a-zA-Z0-9_\$]*/</span> </div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">Literal</span> <span class="geq">::</span> </div>
    <div class="rhs"><span class="nt">UndefinedLiteral</span></div>
    <div class="rhs"><span class="nt">NullLiteral</span></div>
    <div class="rhs"><span class="nt">BooleanLiteral</span></div>
    <div class="rhs"><span class="nt">NumericLiteral</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">UndefinedLiteral</span> <span class="geq">::</span> </div>
    <div class="rhs"><code class="t">undefined</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">NullLiteral</span> <span class="geq">::</span> </div>
    <div class="rhs"><code class="t">null</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">BooleanLiteral</span> <span class="geq">::</span> </div>
    <div class="rhs"><code class="t">true</code></div>
    <div class="rhs"><code class="t">false</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">NumericLiteral</span> <span class="geq">::</span> </div>
    <div class="rhs"><span class="nt">/\d/</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">StringLiteral</span> <span class="geq">::</span> </div>
    <div class="rhs"><span class="nt">StringLiteralSignificantSpaces</span> with insignificant <code class="t">undefined</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">StringLiteralSignificantSpaces</span> <span class="geq">::</span> </div>
    <div class="rhs"><code class="t">"</code> <span class="nt">DoubleStringCharacters</span> <code class="t">"</code></div>
    <div class="rhs"><code class="t">'</code> <span class="nt">SingleStringCharacters</span> <code class="t">'</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">DoubleStringCharacters</span> <span class="geq">::</span> </div>
    <div class="rhs"><span class="nt">DoubleStringCharacter</span> <span class="nt">DoubleStringCharacters</span><sub>opt</sub></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">SingleStringCharacters</span> <span class="geq">::</span> </div>
    <div class="rhs"><span class="nt">SingleStringCharacter</span> <span class="nt">SingleStringCharacters</span><sub>opt</sub></div>
  </div>

</section>

<section id="sec-A.3">
  <h1><span class="secnum">A.3</span> Expressions</h1>

  <div class="gp">
    <div class="lhs"><span class="nt">IdentifierReference</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">BindingIdentifier</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">IdentifierExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">IdentifierReference</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">BindingIdentifier</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">IdentifierName</span> <span class="grhsmod">but not</span> <span class="nt">ReservedWord</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">ReservedWord</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="t">["break", "case", "catch", "class", "continue", 
  "debugger", "default", "delete", "do", "else", "enum", "export", "extends", 
  "false", "finally", "for", "function", "if", "implements", "import", "in", 
  "instanceof", "let", "new", "null", "package", "private", "protected", 
  "public", "return", "static", "super", "switch", "this", "throw", "true", 
  "try", "typeof", "undefined", "var", "void", "while", "with", "yield"]</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">PrimaryExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">ObjectExpression</span></div>
    <div class="rhs"><span class="nt">Literal</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">ObjectExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">ObjectLiteral</span></div>
    <div class="rhs"><span class="nt">FunctionExpression</span></div>
    <div class="rhs"><span class="nt">IdentifierExpression</span></div>
    <div class="rhs"><code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">ObjectLiteral</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">{</code> <span class="nt">PropertyNameAndValueList</span> <code class="t">}</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">PropertyNameAndValueList</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">PropertyAssignment</span>* with delimiter <code class="t">/,/</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">PropertyAssignment</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">PropertyName</span> <code class="t">:</code> <span class="nt">AssignmentExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">PropertyName</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">IdentifierName</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">NewExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">new</code> <span class="nt">NewExpressionQualifier</span> <span class="nt">Arguments</span><sub>opt</sub></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">NewExpressionQualifier</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">NewExpressionQualifier</span> <span class="nt">Qualifier</span></div>
    <div class="rhs"><span class="nt">ObjectExpression</span></div>
    <div class="rhs"><span class="nt">NewExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">CallExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">NewExpression</span></div>
    <div class="rhs"><span class="nt">FunctionCallExpressionQualifier</span> <span class="nt">Arguments</span></div>
    <div class="rhs"><span class="nt">MethodCallExpressionQualifier</span> <span class="nt">Arguments</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">FunctionCallExpressionQualifier</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">CallExpression</span></div>
    <div class="rhs"><span class="nt">ObjectExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">MethodCallExpressionQualifier</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">FunctionCallExpressionQualifier</span> <span class="nt">Qualifier</span></div>
    <div class="rhs"><span class="nt">MethodExpressionQualifier</span> <span class="nt">Qualifier</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">Qualifier</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">[</code> <span class="nt">Expression</span> <code class="t">]</code></div>
    <div class="rhs"><code class="t">.</code> <span class="nt">IdentifierName</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">Arguments</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">(</code> <span class="nt">ArgumentList</span> <code class="t">)</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">ArgumentList</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">AssignmentExpression</span>* with delimiter <code class="t">/,/</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">LeftHandSideExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">LeftHandSideExpression</span> <span class="nt">Qualifier</span></div>
    <div class="rhs"><span class="nt">LeftHandSideExpressionBase</span> <span class="nt">Qualifier</span></div>
    <div class="rhs"><span class="nt">IdentifierReference</span></div>
    <div class="rhs"><code class="t">(</code> <span class="nt">LeftHandSideExpression</span> <code class="t">)</code></div>
    <div class="rhs"><code class="t">(</code> <span class="nt">SideEffectExpressionList</span> <code class="t">,</code> <span class="nt">LeftHandSideExpression</span> <code class="t">)</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">LeftHandSideExpressionBase</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">ObjectExpression</span></div>
    <div class="rhs"><span class="nt">CallExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">UpdateExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">LeftHandSideExpression</span> <span class="grhsannot">[no <span class="nt">LineTerminator</span> here]</span> <code class="t">++</code></div>
    <div class="rhs"><span class="nt">LeftHandSideExpression</span> <span class="grhsannot">[no <span class="nt">LineTerminator</span> here]</span> <code class="t">--</code></div>
    <div class="rhs"><code class="t">++</code> <span class="nt">LeftHandSideExpression</span></div>
    <div class="rhs"><code class="t">--</code> <span class="nt">LeftHandSideExpression</span></div>
    <div class="rhs"><code class="t">delete</code> <span class="nt">LeftHandSideExpression</span></div>
    <div class="rhs"><span class="nt">CallExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">ValueExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">RightHandSideExpression</span></div>
    <div class="rhs"><span class="nt">UpdateExpression</span></div>
    <div class="rhs"><span class="nt">PrimaryExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">RightHandSideExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">LeftHandSideExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">TypeChangeExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">ValueExpression</span></div>
    <div class="rhs"><code class="t">!</code> <span class="nt">TypeChangeExpression</span></div>
    <div class="rhs"><code class="t">typeof</code> <span class="nt">TypeChangeExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">RelationalExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">TypeChangeExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">EqualityExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">EqualityExpression</span> <code class="t">===</code> <span class="nt">RelationalExpression</span></div>
    <div class="rhs"><span class="nt">EqualityExpression</span> <code class="t">!==</code> <span class="nt">RelationalExpression</span></div>
    <div class="rhs"><span class="nt">RelationalExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">DeferredEqualityExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">EqualityExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">LogicalANDExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">EqualityExpression</span></div>
    <div class="rhs"><span class="nt">LogicalANDExpression</span> <code class="t">&&</code> <span class="nt">DeferredEqualityExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">DeferredLogicalANDExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">LogicalANDExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">LogicalORExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">LogicalANDExpression</span></div>
    <div class="rhs"><span class="nt">LogicalORExpression</span> <code class="t">||</code> <span class="nt">DeferredLogicalANDExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">ConditionalExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">LogicalORExpression</span></div>
    <div class="rhs"><span class="nt">LogicalORExpression</span> <code class="t">?</code> <span class="nt">DeferredAssignmentExpressionIn</span> <code class="t">:</code> <span class="nt">DeferredAssignmentExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">DeferredAssignmentExpressionIn</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">AssignmentExpression</span> allowing <span class="nt">InExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">DeferredAssignmentExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">AssignmentExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">ProperAssignmentExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">LeftHandSideExpression</span> <code class="t">=</code> <span class="nt">AssignmentExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">AssignmentExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">ProperAssignmentExpression</span></div>
    <div class="rhs"><span class="nt">ConditionalExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">SideEffectExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">ProperAssignmentExpression</span></div>
    <div class="rhs"><span class="nt">UpdateExpression</span></div>
    <div class="rhs"><span class="nt">NamedFunctionExpression</span></div>
    <div class="rhs"><code class="t">(</code> <span class="nt">SideEffectExpressionList</span> <code class="t">)</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">SideEffectExpressionList</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">SideEffectExpression</span>+ with delimiter <code class="t">/,/</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">Expression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">SideEffectExpressionList</span></div>
    <div class="rhs"><span class="nt">SideEffectExpressionList</span> <code class="t">,</code> <span class="nt">AssignmentExpression</span></div>
    <div class="rhs"><span class="nt">AssignmentExpression</span></div>
  </div>

</section>

<section id="sec-A.4">
  <h1><span class="secnum">A.4</span> Statements</h1>

  <div class="gp">
    <div class="lhs"><span class="nt">Statement</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">VariableStatement</span></div>
    <div class="rhs"><span class="nt">ExpressionStatement</span></div>
    <div class="rhs"><span class="nt">ReturnStatement</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">DeferredStatement</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">Statement</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">VariableStatement</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">var</code> <span class="nt">BindingIdentifier</span> <span class="nt">Initialiser</span>? <code class="t">;</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">Initialiser</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">=</code> <span class="nt">AssignmentExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">ExpressionStatement</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">SideEffectExpressionList</span> <code class="t">;</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">ReturnStatement</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">return</code> <span class="grhsannot">[no <span class="nt">LineTerminator</span> here]</span> <span class="nt">Expression</span> <code class="t">;</code></div>
  </div>

<section id="sec-A.5">
  <h1><span class="secnum">A.5</span> Functions and Programs</h1>

  <div class="gp">
    <div class="lhs"><span class="nt">FunctionDeclaration</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">NamedFunctionExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">FunctionExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">AnonymousFunctionExpression</span></div>
    <div class="rhs"><span class="nt">NamedFunctionExpression</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">AnonymousFunctionExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">function</code> <span class="nt">FunctionContent</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">NamedFunctionExpression</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">function</code> <span class="nt">BindingIdentifier</span> <span class="nt">FunctionContent</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">FunctionContent</span> <span class="geq">:</span> </div>
    <div class="rhs"><code class="t">(</code> <span class="nt">FormalParameterList</span> <code class="t">)</code> <code class="t">{</code> <span class="nt">FunctionBody</span> <code class="t">}</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">FormalParameterList</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">BindingIdentifier</span>* with delimiter <code class="t">/,/</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">FunctionBody</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">SourceElements</span></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">Program</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">SourceElements</span> with instignificant <code class="t">/(\s|\n|(\/\/.*)|(\/\*\/*(\**[^\*\/]*\/*)*\*+\/))*/</code></div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">SourceElements</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">SourceElement</span>*</div>
  </div>

  <div class="gp">
    <div class="lhs"><span class="nt">SourceElement</span> <span class="geq">:</span> </div>
    <div class="rhs"><span class="nt">DeferredStatement</span></div>
  </div>

</section>

</body>
</html>
